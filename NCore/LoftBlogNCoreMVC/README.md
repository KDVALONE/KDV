#Readme for LoftBlogNCoreMVC
Проект создан по урокам канала LoftBlog: Веб-приложение на asp.net mvc core



Описание выполненных действий в уроке и коде:


#Урок 1-2 
#Ознакомление
Просто прослушал лекции

#Урок 3  
#Создание простого Hello World (AZ BUKI VEDI)

- Создал модель данных HelloModel 
- У контроллера по умолчанию HomeController по умолчанию представление Index (пр.к.м - перейти к представлению)
в ней указал нашу модель, и простой html код отображения 
- У контроллера HomeController  в методе  IActionResult Index 
создал екземпляр модели, передав туда нужный параметр(AZ BUKI VEDI). Передал екземпляр модели в нужную View (Index)

#Урок 4 
#Создание классов сущностей для оперирования в коде, подключение EFCORE, подключили CodFirst подход засчет миграций, создание БД

- Создал слой L3 - DataLayer, слой в даном случае это кастомная библиотека с одноименным названием для работы с БД, подключенная к solution
- В библиотеке DataLayer создал следующие классы - сущности
	- Page верхнеуровневый уровень сущности, от него наследуются Directory и Materials
	- Directory : Page которая содержит список Materials
	- Materials : Page содержит cсылку на id из БД и навигационное свойство

- Теперь подключаем EntentyFrameWorkCore через Nuget, который состоит из нескольких подключаемых библиотек:
	- Microsoft.EntentyFrameworkCore
	- Microsoft.EntentyFrameworkCore.sqlServer
	- Microsoft.EntentyFrameworkCore.Tools  для CodeFirst подхода разработки

- Создал контекст данных, в библиотеке DataLayer создав класс EFDBContext : DbContext
заполнил данными

- Далее открыл вид - другие окна - консоль диспетчера пакетов, впоявившемся окне в поле Проект по умолчанию выбираем DataLayer
далее прописываем комманду миграции в саму консоль диспетчера пакетов (КДП):
	- Add-Migration Init1  , где Init1 - название миграции. У нас так и называется
В обозревателе решений, кликаем правой к.м. на названии веб приложения (не Solution'a!) (LoftBlogNCoreMVC), 
выбираем добавить ссылку, в открывшемся окне выбираем Data Layer
- Собираем решение, создается локальная база данных, а так же папка Migrations с созданными сущнастями.
- Прописываем в КДП комманду обновления ДБ - Update-Database

Теперь если БД обновляется, то мы прописываем в КДП Add-Migration Init2 (Intit3 и т.д.) и обновляем базу Update-Database,
таким образом происходит миграция одна за другой (это часть подхода CodeFirst)

# Урок 5
#


- Заполняем таблицу из С# кода. С помщью migration, в DataLayer, создав класс SampleData который занимается инициализацией БД, знач по умолчанию
- В файле appsettings.json добавляем строку подключения
- далее в файле startUp создаем подключение в методе ConfigureServices()
- Подключаем слой DL к С# коду, делаем injection

#Урок 6
#Использование DataLayer с Entitiye framework с Data Layer, через конироолер. Строгосвязанный подход

- Создается поле в HomeController, и прокидывается за счет внедрения зависимостей
- Тамже создается список директорий в методе Index
- Создаем предстваление, типизацию в файле Index.cshtml, и пишем запрос на представление
- Для того чтоб EF сджойнил все материалы в директорию, у нас это происходит HomeController 
с помощью Linq, в методе Index с помощью Include

#Урок 7
#Создание Бизнес слоя

- Добавить в решение библиотеку BissnessLayer, если в DL у нас работа с данными, то в BL сама бизнесс логика
- Удалить созданный автоматом Class1, затем самому BL добавить ссылку (п.к.м) на DataLayer
- LoftBlogNCoreMVC тоже добавить ссылку на BL 
- Используем паттерн реопзиторий (есть интерфейсы, и есть их реализация)